<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>制茶</title>
    <style>
        /* *{
            background-color: #bbb;
        } */
        body{font-size:84%;}
        .dustbin{width:100px; height:100px;}
        .dragbox{width:100px; height: 100px;}
        .draglist{width:auto; height: auto; cursor:move; background-color: rgb(0, 0, 0, 0);}
        /* .draglist:hover{border-color:#cad5eb; background-color:#f0f3f9;} */
        .dragremind{padding-top:2em; clear:both;}
    </style>
    </head>
    <body>
        <div style="display: inline-block; position: absolute;" id="step5_text_before">
            <p>第五步：干燥</p>
            <p id="step5_steps01">从竹篮中取出茶叶，放入空筐中。</p>
            <p id="step5_steps02" style="display: none;">将放入茶叶的竹筐置于高台上自然干燥。</p>
            <a id="step5_steps03" style="display: none;" href="script:;">放置成功，点击进行下一操作-></a>
        </div>
        <script>
            var height_window = window.innerHeight;
            var width_window = window.innerWidth;
            var step5_text_before = document.getElementById('step5_text_before');
            var step5_text_after = document.getElementById('step5_text_after');
            step5_text_before.style.top = 0.4 * height_window;
            step5_text_before.style.fontSize = 0.015 * width_window;
            step5_text_after.style.top = 0.4 * height_window;
            step5_text_after.style.right = 0;
            step5_text_after.style.fontSize = 0.015 * width_window;
            step5_text_after.style.display = 'none';
        </script>
        <div style="display: inline-block;">
            <img src="../images/step5/干燥1.png" alt="" id="the_ganzao_before" style="z-index: -999; display: inline-block; position: fixed;">
            <img src="../images/step5/干燥2.png" alt="" id="the_ganzao_after" style="z-index: -998; display: inline-block; position: fixed; display: none;">
            <img src="../images/宋体字幕/干燥字幕.png" alt="" style="z-index: 999; display: inline-block; position: fixed;" id="step5_the_txt">
            <script>
                //背景图
                var the_ganzao_before = document.getElementById('the_ganzao_before');
                the_ganzao_before.style.height = height_window;
                the_ganzao_before.style.left = (width_window-the_ganzao_before.style.width)/3.15;
                var the_ganzao_after = document.getElementById('the_ganzao_after');
                the_ganzao_after.style.height = height_window;
                the_ganzao_after.style.left = (width_window-the_ganzao_after.style.width)/3.15;

                var step5_the_txt = document.getElementById('step5_the_txt');
                step5_the_txt.style.height = height_window * 0.29;
                step5_the_txt.style.left = (width_window-the_ganzao_before.style.width)/3.15 + height_window / 4 * 3 * 0.12;
                step5_the_txt.style.top = height_window * 0.62;
            </script>
        </div>

        <div class="dustbin" style="position: absolute;" id="the_kongkuang">
            <img src="../images/step5/干燥空筐.png" title="空竹扁" alt="" style="z-index: -1; display: inline-block; position: fixed;" id="the_kongkuang_image">
        </div>
        <script>
            var the_kongkuang = document.getElementById('the_kongkuang');
            the_kongkuang.style.left = (width_window-the_ganzao_before.style.width)/3.15 + height_window / 4 * 3 * 0.43;
            the_kongkuang.style.top = 0.4 * height_window;
            var the_kongkuang_image = document.getElementById('the_kongkuang_image');
            the_kongkuang_image.style.height = 0.182 * height_window;
            the_kongkuang.style.height = 0.182 * height_window;
            the_kongkuang.style.width = 0.182 * height_window * 0.793;
        </script>
        <div class="dragbox">
            <div class="draglist" draggable="true" style="position: absolute; top: 100px; left: 400px;">
                <img src="../images/step5/干燥一堆茶叶.png" alt="" id="the_ganzaochaye" style="z-index: 1; display: inline-block; position: fixed;">
                <img src="../images/step5/干燥实筐.png" alt="" id="the_ganzaoshikuang" style="z-index: 1; display: inline-block; position: fixed; display: none;">
            </div>
            <script>
                //茶叶的放置
                var the_ganzaochaye = document.getElementById('the_ganzaochaye');
                var the_ganzaoshikuang = document.getElementById('the_ganzaoshikuang');
                the_ganzaochaye.style.height = 0.087 * height_window;
                the_ganzaoshikuang.style.height = 0.182 * height_window;
                // 一、二、三号茶叶的位置坐标
                the_ganzaochaye.style.left = (width_window-the_ganzao_before.style.width)/3.15 + height_window / 4 * 3 * 0.68;
                the_ganzaochaye.style.top = 0.32 * height_window;
                the_ganzaoshikuang.style.left = (width_window-the_ganzao_before.style.width)/3.15 + height_window / 4 * 3 * 0.43;
                the_ganzaoshikuang.style.top = 0.4 * height_window;
            </script>
        </div>
        <div class="dragremind"></div>
        <div style="height: 300px; width: 300px; position:absolute; top:300px; left:600px; background-color: aquamarine; display: none;" id="get_it_window"></div>
    <!-- <script assert="https://zz.bdstatic.com/linksubmit/push.js"></script><script assert="https://hm.baidu.com/hm.js?48d8e938d5365a4cb0fc9e65d945018e"></script><script type="text/javascript" async="" assert="https://ssl.google-analytics.com/ga.js"></script> -->
    <script>
        var times = 0;
        var $ = function(selector) {
            if (!selector) { return []; }
            var arrEle = [];
            if (document.querySelectorAll) {
                arrEle = document.querySelectorAll(selector);
            } else {
                var oAll = document.getElementsByTagName("div"), lAll = oAll.length;
                if (lAll) {
                    var i = 0;
                    for (i; i<lAll; i+=1) {
                        if (/^\./.test(selector)) {
                            if (oAll[i].className === selector.replace(".", "")) {
                                arrEle.push(oAll[i]);
                            }
                        } else if(/^#/.test(selector)) {
                            if (oAll[i].id === selector.replace("#", "")) {
                                arrEle.push(oAll[i]);
                            }
                        }
                    }
                }
            }
            return arrEle;
        };

        var eleDustbin = $(".dustbin")[0], eleDrags = $(".draglist"), lDrags = eleDrags.length, eleRemind = $(".dragremind")[0], eleDrag = null;
        for (var i=0; i<lDrags; i+=1) {
            eleDrags[i].onselectstart = function() {
                return false;
            };
            eleDrags[i].ondragstart = function(ev) {
                ev.dataTransfer.effectAllowed = "move";
                ev.dataTransfer.setData("text", ev.target.innerHTML);
                ev.dataTransfer.setDragImage(ev.target, 0, 0);
                eleDrag = ev.target;
                return true;
            };
            eleDrags[i].ondragend = function(ev) {
                ev.dataTransfer.clearData("text");
                eleDrag = null;
                return false
            };
        }
        eleDustbin.ondragover = function(ev) {
            ev.preventDefault();
            return true;
        };

        eleDustbin.ondragenter = function(ev) {
            this.style.color = "#ffffff";
            return true;
        };
        eleDustbin.ondrop = function(ev) {
            if (eleDrag) {
                // eleRemind.innerHTML = '<strong>"' + eleDrag.innerHTML + '"</strong>被扔进了垃圾箱';
                eleDrag.parentNode.removeChild(eleDrag);
                if(times==0){
                    the_ganzaoshikuang.style.display = '';
                    the_kongkuang_image.style.filter = 'opacity(0%)';
                    the_kongkuang.style.top = 0.27*height_window;
                    the_kongkuang.style.left = 0.38*width_window;
                    document.getElementById('step5_steps01').style.display = 'none';
                    document.getElementById('step5_steps02').style.display = '';
                    times=1;
                }
                else if(times==1)
                {
                    the_ganzao_after.style.display = '';
                    document.getElementById('step5_steps02').style.display = 'none';
                    document.getElementById('step5_steps03').style.display = '';
                    times=2;
                }
            }
            this.style.color = "#000000";
            return false;
        };
    </script>
    <!-- <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-11205167-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.assert = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.node-es6-js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script> -->
    <!-- <script>
        var _hmt = _hmt || [];
        (function() {
        var hm = document.createElement("script");
        hm.assert = "https://hm.baidu.com/hm.js?48d8e938d5365a4cb0fc9e65d945018e";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
        })();
    </script> -->
    <!-- <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https'){
        bp.assert = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else{
        bp.assert = 'http://push.zhanzhang.baidu.com/push.js';
        }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script> -->
    </body>
    </html>
